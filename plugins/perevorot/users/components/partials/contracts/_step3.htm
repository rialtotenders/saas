<div class="w c-main" id="registration-form">
    <div class="c ">
        <div class="registered-step tender-create">

            {% partial('@contracts/_steps') step=3 %}

            <div class="inline-layout">
                <div class="form-registration">

                    <form data-request-loading=".spinner" data-request="onHandleForm" data-tender data-request-data="'step': '3'" data-request-complete="validation(this)">

                        <div class="new-item-block">
                            {% for key, item in contract_json.items %}
                                {% partial('@contracts/_item') title_key=(key+1) key=key item=item input_name_prefix='items['~key~']' %}
                            {% endfor %}
                        </div>

                        <div class="block-button" id="for-spinner">
                            <button data-request-loading=".spinner" data-request="onReturnBack" data-request-data="'step': '2'" class="prev_step">{{ 'contract.edit.prev_button'|_}}</button>
                            <button type="submit" class="next_step" onClick="$('.error-holder').hide().html('');">{{ 'contract.edit.next_button'|_}}</button>
                            <a href="{{ siteLocale }}contract/{{ contract.cid }}" class="prev_step">{{ 'contract.edit.return_to_contract'|_}}</a>
                        </div>

                        <input type="hidden" name="save" id="contract-save" value="0">
                    </form>
                </div>

                <div class="desc-registration">
                    <div class="block-desc">
                        <div class="block-overflow">
                            {{ text|raw }}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% partial '@contracts/_scripts' %}